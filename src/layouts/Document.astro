---
const gaID = import.meta.env.PUBLIC_GOOGLE_ANALYTICS_ID;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="author" content="Niklas Rydkvist" />
    <meta
      name="keywords"
      content="niklas rydkvist, software engineer, ios engineer, frontend developer, portfolio, software developer, frontend engineer, niklas, rydkvist"
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <link
      rel="apple-touch-icon"
      type="image/png"
      href="/favicons/apple-touch-icon.png"
      sizes="180x180"
    />
    <link
      rel="icon"
      type="image/png"
      href="/favicons/favicon-32x32.png"
      sizes="32x32"
    />
    <link
      rel="icon"
      type="image/png"
      href="/favicons/favicon-16x16.png"
      sizes="16x16"
    />
    <link rel="manifest" href="/manifest.json" />
    <link
      rel="mask-icon"
      href="/favicons/safari-pinned-tab.svg"
      color="#1a1a1a"
    />
    <link rel="shortcut icon" href="/favicons/favicon.ico" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <script
      is:inline
      async
      id={`googleanalytics-${gaID}`}
      src={`https://www.googletagmanager.com/gtag/js?id=${gaID}`}></script>
    <!-- 
    <script is:inline id={`dangerouslySetInnerHTML-${gaID}`}>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", gaID, {
        page_path: window.location.pathname,
      });
    </script> -->

    <script is:inline>
      const html = document.documentElement;
      const theme = (() => {
        if (
          typeof localStorage !== "undefined" &&
          localStorage.getItem("theme")
        ) {
          return localStorage.getItem("theme");
        }
        if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
          return "dark";
        }
        return "light";
      })();
      if (theme === "light") {
        html.classList.remove("dark");
        html.classList.add("light");
      } else {
        html.classList.add("dark");
        html.classList.remove("light");
      }
    </script>
  </head>
  <slot />


</html>
